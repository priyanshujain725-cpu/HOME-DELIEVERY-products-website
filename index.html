<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PPCART | Fast Delivery</title>
    <style>
        /* SLIDE BAR */
.slide-handle {
    width: 50px;
    height: 5px;
    background: #ccc;
    border-radius: 10px;
    margin: 0 auto 12px;
}

/* HIDE ORDER PANEL */
.checkout-drawer.collapsed {
    transform: translateY(85%); /* completely hidden when collapsed */

}

/* SMOOTH ANIMATION */
.checkout-drawer {
    transition: transform 0.3s ease;
}

        :root { 
            --pp-orange: #ff7a00; 
            --pp-dark: #1a1a1a;
            --pp-gray: #f8f9fa;
            --pp-green: #27ae60;
            --pp-red: #e74c3c;
        }

        body { 
            font-family: 'Inter', system-ui, sans-serif; 
            margin: 0; background-color: var(--pp-gray); 
            padding-bottom: 350px; 
        }

        /* Header */
        header { background: #fff; padding: 15px 20px; display: flex; align-items: center; justify-content: space-between; position: sticky; top: 0; z-index: 1000; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .logo-container { display: flex; align-items: center; gap: 10px; }
        .logo-img { width: 50px; height: 50px; border-radius: 50%; border: 2px solid var(--pp-orange); }
        .brand-name { font-size: 26px; font-weight: 800; color: var(--pp-orange); }

        /* Search Bar */
        .search-container { padding: 10px 15px; }
        .search-wrapper { position: relative; display: flex; align-items: center; }
        .search-input { 
            width: 100%; padding: 14px 15px 14px 45px; border-radius: 12px; 
            border: 1px solid #e0e0e0; outline: none; box-sizing: border-box; 
            font-size: 16px; /* Bada Font */
        }
        .search-icon { position: absolute; left: 15px; color: #999; font-size: 18px; }

        /* Delivery Banner */
        .delivery-promise {
            padding: 18px; margin: 10px;
            background: linear-gradient(135deg, #ff9f43 0%, #ff7a00 100%);
            border-radius: 15px; display: flex; justify-content: center; align-items: center;
        }
        .speed-text { font-size: 18px; font-weight: 800; color: #ffffff; }

        /* HORIZONTAL GRID - 4 PRODUCTS PER ROW */
        .container { 
            display: grid; 
            grid-template-columns: repeat(2, 1fr); /* Mobile pe 2 */
            gap: 15px; 
            padding: 15px; 
        }

        @media (min-width: 768px) {
            .container { grid-template-columns: repeat(4, 1fr); /* Tablet/Desktop pe 4 */ }
        }

        .product-card { 
            background: white; border-radius: 15px; padding: 15px; 
            display: flex; flex-direction: column; 
            box-shadow: 0 4px 12px rgba(0,0,0,0.05); 
        }

        .prod-img-box { 
            width: 100%; height: 130px; 
            border-radius: 12px; overflow: hidden; background: #fef4ec; 
            display: flex; align-items: center; justify-content: center; cursor: zoom-in; 
        }
        .prod-img-box img { width: 90%; height: 90%; object-fit: contain; }
        .prod-img-box .emoji { font-size: 60px; }

        .prod-info { margin: 12px 0; flex-grow: 1; }
        .prod-name { font-weight: 700; font-size: 18px; color: #333; line-height: 1.2; } /* Bada Font */
        .prod-price { font-weight: 800; color: var(--pp-orange); font-size: 20px; margin-top: 5px; } /* Bada Font */

        /* Action Buttons */
        .action-area { margin-top: 10px; }
        .add-btn { width: 100%; background: white; color: var(--pp-orange); border: 2px solid var(--pp-orange); padding: 10px; border-radius: 10px; font-weight: 800; cursor: pointer; font-size: 16px; }
        .qty-control { display: none; background: var(--pp-orange); color: white; border-radius: 10px; align-items: center; justify-content: space-between; }
        .qty-control button { background: none; border: none; color: white; padding: 10px 18px; font-weight: bold; cursor: pointer; font-size: 18px; }
        .qty-val { font-size: 18px; font-weight: 800; }

        /* Checkout Drawer */
        .checkout-drawer { position: fixed; bottom: 0; left: 0; right: 0; background: white; padding: 25px; border-radius: 30px 30px 0 0; box-shadow: 0 -10px 40px rgba(0,0,0,0.15); z-index: 2000; }
        .cart-summary { background: var(--pp-green); color: white; padding: 15px; border-radius: 15px; display: none; justify-content: space-between; margin-bottom: 15px; font-weight: 700; font-size: 18px; }
        
        .location-card { background: #fff; border: 2px dashed #ddd; padding: 15px; border-radius: 15px; margin-bottom: 15px; text-align: center; }
        .loc-btn { background: var(--pp-dark); color: white; border: none; padding: 12px; border-radius: 10px; font-weight: bold; cursor: pointer; width: 100%; font-size: 16px; }

        .input-pill { width: 100%; border: 1px solid #ddd; background: #f9f9f9; padding: 15px; border-radius: 12px; margin-bottom: 10px; box-sizing: border-box; font-size: 16px; }
        .btn-order { background: #ccc; color: white; border: none; padding: 20px; border-radius: 15px; width: 100%; font-weight: 800; font-size: 18px; cursor: not-allowed; }
        .btn-order.active { background: var(--pp-orange); cursor: pointer; }

        /* Zoom Modal */
        .modal { display: none; position: fixed; z-index: 9999; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.9); justify-content: center; align-items: center; backdrop-filter: blur(5px); }
        .modal-content { max-width: 90%; max-height: 80%; border-radius: 20px; }
    </style>
</head>
<body>

<header>
    <div class="logo-container">
        <img src="c:\Users\priya\OneDrive\Pictures\PPPPP.png" class="logo-img" alt="Logo">
        <div class="brand-name">PPCART</div>
    </div>
    <div style="font-size: 16px; font-weight: 700;">9302073835</div>
</header>

<div class="delivery-promise">
    <div class="speed-text">‚ö° Super fast delivery in 15-20 minutes</div>
</div>

<div class="search-container">
    <div class="search-wrapper">
        <span class="search-icon">üîç</span>
        <input type="text" id="search-bar" class="search-input" placeholder="Search products..." onkeyup="filterProducts()">
    </div>
</div>

<div class="container" id="product-list">
    <div class="product-card" data-name="ONION (1kg)" data-price="35" data-stock="5">
    <div class="prod-img-box" onclick="zoomImage(this)">
        <span class="emoji">üßÖ</span>
    </div>

    <div class="prod-info">
        <div class="prod-name">ONION (1 kg)</div>
        <div class="prod-price">‚Çπ35</div>
        <div class="stock-text">Available: <span class="stock-val">100</span></div>
    </div>

    <div class="action-area">
        <button class="add-btn" onclick="updateQty(this, 1)">ADD</button>
        <div class="qty-control">
            <button onclick="updateQty(this, -1)">-</button>
            <span class="qty-val">0</span>
            <button onclick="updateQty(this, 1)">+</button>
        </div>
    </div>
</div>


    <div class="product-card" data-name="milk" data-price="76">
        <div class="prod-img-box" onclick="zoomImage(this)">
            <img src="https://www.mystore.in/s/62ea2c599d1398fa16dbae0a/67b38808b352b0c78c974c13/8901262150071_1-800x800.jpg" alt="Milk">
        </div>
        <div class="prod-info">
            <div class="prod-name">Full Cream Milk</div>
            <div class="prod-price">‚Çπ76</div>
            <div class="stock-text">Available: <span class="stock-val">100</span></div>
        </div>
        <div class="action-area">
            <button class="add-btn" onclick="updateQty(this, 1)">ADD</button>
            <div class="qty-control">
                <button onclick="updateQty(this, -1)">-</button>
                <span class="qty-val">0</span>
                <button onclick="updateQty(this, 1)">+</button>
            </div>
        </div>
    </div>

    <div class="product-card" data-name="parle g" data-price="100">
        <div class="prod-img-box" onclick="zoomImage(this)">
            <img src="https://www.spices.com.mt/wp-content/uploads/2022/05/PARLE-G-79.9-GR.jpg" alt="Parle G">
        </div>
        <div class="prod-info">
            <div class="prod-name">Parle G Biscuits</div>
            <div class="prod-price">‚Çπ100</div>
            <div class="stock-text">Available: <span class="stock-val">100</span></div>
        </div>
        <div class="action-area">
            <button class="add-btn" onclick="updateQty(this, 1)">ADD</button>
            <div class="qty-control">
                <button onclick="updateQty(this, -1)">-</button>
                <span class="qty-val">0</span>
                <button onclick="updateQty(this, 1)">+</button>
            </div>
        </div>
    </div>
    <div class="product-card" data-name="Aloo(1 kg)" data-price="30">
        <div class="prod-img-box" onclick="zoomImage(this)">
            <img src="https://2.bp.blogspot.com/-VUsavhaybB0/V6jZ8i6vZgI/AAAAAAAAGaM/1hI-YTdcp5g5XiBVs_tr6IlMt0EmorHEACLcB/s1600/Valley-Spuds-Pile-of-White-Potatoes.jpg" alt="Parle G">
        </div>
        <div class="prod-info">
            <div class="prod-name">Aloo(1 kg)</div>
            <div class="prod-price">‚Çπ30</div>
            <div class="stock-text">Available: <span class="stock-val">100</span></div>
        </div>
        <div class="action-area">
            <button class="add-btn" onclick="updateQty(this, 1)">ADD</button>
            <div class="qty-control">
                <button onclick="updateQty(this, -1)">-</button>
                <span class="qty-val">0</span>
                <button onclick="updateQty(this, 1)">+</button>
            </div>
        </div>
    </div>
    <div class="product-card" data-name="Too Yum (Buy 1 get 1 free)" data-price="50">
        <div class="prod-img-box" onclick="zoomImage(this)">
            <img src="https://cdn.zeptonow.com/production/tr:w-600,ar-1000-1000,pr-true,f-auto,q-80/cms/product_variant/f2896357-6194-4740-99bf-395852772f1d.jpeg" alt="Parle G">
        </div>
        <div class="prod-info">
            <div class="prod-name">Too Yum (Buy 1 get 1 free)</div>
            <div class="prod-price">‚Çπ50</div>
            <div class="stock-text">Available: <span class="stock-val">100</span></div>
        </div>
        <div class="action-area">
            <button class="add-btn" onclick="updateQty(this, 1)">ADD</button>
            <div class="qty-control">
                <button onclick="updateQty(this, -1)">-</button>
                <span class="qty-val">0</span>
                <button onclick="updateQty(this, 1)">+</button>
            </div>
        </div>
    </div>
    <div class="product-card" data-name="Fruit beer " data-price="60">
        <div class="prod-img-box" onclick="zoomImage(this)">
            <img src="https://tse4.mm.bing.net/th/id/OIP.wzvOqdwlC82MillCmnqTjAAAAA?pid=Api&P=0&h=180" alt="Parle G">
        </div>
        <div class="prod-info">
            <div class="prod-name">Fruit Beer</div>
            <div class="prod-price">‚Çπ60</div>
            <div class="stock-text">Available: <span class="stock-val">100</span></div>
        </div>
        <div class="action-area">
            <button class="add-btn" onclick="updateQty(this, 1)">ADD</button>
            <div class="qty-control">
                <button onclick="updateQty(this, -1)">-</button>
                <span class="qty-val">0</span>
                <button onclick="updateQty(this, 1)">+</button>
            </div>
        </div>
    </div>
    <div class="product-card" data-name="Marie gold family pack" data-price="137">
        <div class="prod-img-box" onclick="zoomImage(this)">
            <img src="https://m.media-amazon.com/images/I/41kilfREbxL.jpg" alt="Parle G">
        </div>
        <div class="prod-info">
            <div class="prod-name">Marie gold family pack</div>
            <div class="prod-price">‚Çπ137</div>
            <div class="stock-text">Available: <span class="stock-val">100</span></div>
        </div>
        <div class="action-area">
            <button class="add-btn" onclick="updateQty(this, 1)">ADD</button>
            <div class="qty-control">
                <button onclick="updateQty(this, -1)">-</button>
                <span class="qty-val">0</span>
                <button onclick="updateQty(this, 1)">+</button>
            </div>
        </div>
    </div>
    <div class="product-card" data-name="Aloo Bhujia 1kg" data-price="192">
        <div class="prod-img-box" onclick="zoomImage(this)">
            <img src="https://m.media-amazon.com/images/I/81cLdDnfmFL._SX679_.jpg" alt="Parle G">
        </div>
        <div class="prod-info">
            <div class="prod-name">Aloo Bhujia 1kg</div>
            <div class="prod-price">‚Çπ192</div>
            <div class="stock-text">Available: <span class="stock-val">100</span></div>
        </div>
        <div class="action-area">
            <button class="add-btn" onclick="updateQty(this, 1)">ADD</button>
            <div class="qty-control">
                <button onclick="updateQty(this, -1)">-</button>
                <span class="qty-val">0</span>
                <button onclick="updateQty(this, 1)">+</button>
            </div>
        </div>
    </div>
    <div class="product-card" data-name="Maggie Veg Atta 425g" data-price="147">
        <div class="prod-img-box" onclick="zoomImage(this)">
            <img src="https://tse1.mm.bing.net/th/id/OIP.gg5utSM93Nd8aDL3ds9xCwHaCt?pid=Api&P=0&h=180" alt="Parle G">
        </div>
        <div class="prod-info">
            <div class="prod-name">Maggie Veg Atta 425g</div>
            <div class="prod-price">‚Çπ147</div>
            <div class="stock-text">Available: <span class="stock-val">100</span></div>
        </div>
        <div class="action-area">
            <button class="add-btn" onclick="updateQty(this, 1)">ADD</button>
            <div class="qty-control">
                <button onclick="updateQty(this, -1)">-</button>
                <span class="qty-val">0</span>
                <button onclick="updateQty(this, 1)">+</button>
            </div>
        </div>
    </div>
    <div class="product-card" data-name="Kissan tomato ketchup" data-price="114">
        <div class="prod-img-box" onclick="zoomImage(this)">
            <img src="https://www.keomart.com/wp-content/uploads/2024/03/15533619-1711691252620.jpg" alt="Parle G">
        </div>
        <div class="prod-info">
            <div class="prod-name">Kissan tomato ketchup</div>
            <div class="prod-price">‚Çπ114</div>
            <div class="stock-text">Available: <span class="stock-val">100</span></div>
        </div>
        <div class="action-area">
            <button class="add-btn" onclick="updateQty(this, 1)">ADD</button>
            <div class="qty-control">
                <button onclick="updateQty(this, -1)">-</button>
                <span class="qty-val">0</span>
                <button onclick="updateQty(this, 1)">+</button>
            </div>
        </div>
    </div>
    <div class="product-card" data-name="Tata Salt 1 kg" data-price="26">
        <div class="prod-img-box" onclick="zoomImage(this)">
            <img src="https://m.media-amazon.com/images/I/614mm2hYHyL._SL1000_.jpg" alt="Parle G">
        </div>
        <div class="prod-info">
            <div class="prod-name">Tata Salt 1 kg</div>
            <div class="prod-price">‚Çπ26</div>
            <div class="stock-text">Available: <span class="stock-val">100</span></div>
        </div>
        <div class="action-area">
            <button class="add-btn" onclick="updateQty(this, 1)">ADD</button>
            <div class="qty-control">
                <button onclick="updateQty(this, -1)">-</button>
                <span class="qty-val">0</span>
                <button onclick="updateQty(this, 1)">+</button>
            </div>
        </div>
    </div>
    <div class="product-card" data-name="Harpic toilet cleaner 1 L" data-price="209">
        <div class="prod-img-box" onclick="zoomImage(this)">
            <img src="https://m.media-amazon.com/images/I/51lLV8HHb4L._SL1000_.jpg" alt="Parle G">
        </div>
        <div class="prod-info">
            <div class="prod-name">Harpic toilet cleaner 1 L</div>
            <div class="prod-price">‚Çπ209</div>
            <div class="stock-text">Available: <span class="stock-val">100</span></div>
        </div>
        <div class="action-area">
            <button class="add-btn" onclick="updateQty(this, 1)">ADD</button>
            <div class="qty-control">
                <button onclick="updateQty(this, -1)">-</button>
                <span class="qty-val">0</span>
                <button onclick="updateQty(this, 1)">+</button>
            </div>
        </div>
    </div>
</div>

<div class="checkout-drawer collapsed" id="checkoutDrawer">
    <div class="slide-handle" onclick="toggleDrawer()"></div>

    <div class="cart-summary" id="cart-summary">
        <span id="items-count">0 Items</span>
        <span id="total-amount">Total: ‚Çπ0</span>
    </div>
    <div id="delivery-charge" style="margin-top:6px;font-size:14px;">
    Delivery Charge: ‚Çπ0
</div>


    <div class="location-card" id="location-card">
        <div id="loc-text" style="font-size: 14px; font-weight: 700; color: var(--pp-red);">üìç Location Required</div>
        <button class="loc-btn" id="loc-btn" onclick="getLocation()">Allow Live Location</button>
    </div>

    <div style="display: flex; gap: 10px;">
        <input type="text" id="cust_name" class="input-pill" placeholder="Name">
        <input type="tel" id="cust_phone" class="input-pill" placeholder="Phone">
    </div>
 <div style="margin-bottom: 12px;">
    <input 
        type="text" 
        id="other-product" 
        class="input-pill" 
        placeholder="Didn't find a product? Type here (optional)">
</div>
   
    <button id="order-btn" class="btn-order" onclick="sendOrder()" disabled>SHARE LOCATION TO ORDER</button>
</div>

<div id="imageModal" class="modal" onclick="closeModal()">
    <div id="modalContent" class="modal-content"></div> 
</div>

<script>
    function getDeliveryCharge(total) {
    if (total >= 80 && total <= 499) return 39;
    if (total >= 500 && total <= 999) return 79;
    if (total >= 1000 && total <= 2499) return 99;
    if (total >= 2500 && total <= 4999) return 139;
    if (total >= 5000 && total <= 10000) return 179;
    if (total > 10000) return 199;
    return 0;
}

    const MIN_ORDER_AMOUNT = 80;

    let userCoords = null;

    function zoomImage(element) {
        const modal = document.getElementById("imageModal");
        const modalContent = document.getElementById("modalContent");
        modal.style.display = "flex";
        modalContent.innerHTML = element.innerHTML;
        const img = modalContent.querySelector('img');
        if(img) { img.style.width = "100%"; img.style.height = "auto"; }
    }
    function closeModal() { document.getElementById("imageModal").style.display = "none"; }

    function filterProducts() {
        const input = document.getElementById('search-bar').value.toLowerCase();
        document.querySelectorAll('.product-card').forEach(card => {
            const name = card.getAttribute('data-name').toLowerCase();
            card.style.display = name.includes(input) ? "flex" : "none";
        });
    }

    function getLocation() {
        const text = document.getElementById('loc-text');
        if (navigator.geolocation) {
            text.innerText = "Accessing GPS...";
            navigator.geolocation.getCurrentPosition(
                (position) => {
                    userCoords = { lat: position.coords.latitude, lng: position.coords.longitude };
                    text.innerText = "‚úÖ Location Locked!";
                    text.style.color = "var(--pp-green)";
                    document.getElementById('loc-btn').style.display = "none";
                    validateForm();
                },
                (error) => { text.innerText = "‚ùå Enable GPS to order"; },
                { enableHighAccuracy: true }
            );
        }
    }

    function updateQty(btn, change) {
    const card = btn.closest('.product-card');
    const qtyVal = card.querySelector('.qty-val');
    const stockVal = card.querySelector('.stock-val');

    let currentQty = parseInt(qtyVal.innerText);
    let stock = parseInt(stockVal.innerText);

    if (change === 1 && stock === 0) return; // no stock

    currentQty += change;
    stock -= change;

    if (currentQty < 0) {
        currentQty = 0;
        stock += 1;
    }

    qtyVal.innerText = currentQty;
    stockVal.innerText = stock;

    const addBtn = card.querySelector('.add-btn');
    const qtyCtrl = card.querySelector('.qty-control');

    if (currentQty > 0) {
        addBtn.style.display = "none";
        qtyCtrl.style.display = "flex";
    } else {
        addBtn.style.display = "block";
        qtyCtrl.style.display = "none";
    }

    // OUT OF STOCK HANDLING
    if (stock === 0) {
        stockVal.parentElement.innerHTML = `<span class="out-stock">OUT OF STOCK</span>`;
        addBtn.disabled = true;
        addBtn.innerText = "OUT OF STOCK";
        addBtn.style.borderColor = "#ccc";
        addBtn.style.color = "#999";
        addBtn.style.cursor = "not-allowed";
    }

        calculateCart();
    }

    function calculateCart() {
    let total = 0, count = 0;

    document.querySelectorAll('.product-card').forEach(card => {
        const qty = parseInt(card.querySelector('.qty-val').innerText);
        if (qty > 0) {
            total += (parseInt(card.getAttribute('data-price')) * qty);
            count += qty;
        }
    });

    const delivery = getDeliveryCharge(total);
    const grandTotal = total + delivery;

    document.getElementById('cart-summary').style.display = count > 0 ? 'flex' : 'none';
    document.getElementById('items-count').innerText = `${count} Items`;
    document.getElementById('total-amount').innerText = `Total: ‚Çπ${total}`;
    document.getElementById('delivery-charge').innerText = `Delivery Charge: ‚Çπ${delivery}`;

    validateForm();
}


   function validateForm() {
    const name = document.getElementById('cust_name').value;
    const phone = document.getElementById('cust_phone').value;
    const btn = document.getElementById('order-btn');

    const totalText = document.getElementById('total-amount').innerText;
    const total = parseInt(totalText.replace(/\D/g, ''));

    if (!name || !phone || !userCoords) {
        btn.disabled = true;
        btn.classList.remove('active');
        btn.innerText = "COMPLETE DETAILS TO ORDER";
        return;
    }

    if (total < MIN_ORDER_AMOUNT) {
        btn.disabled = true;
        btn.classList.remove('active');
        btn.innerText = "MINIMUM ORDER ‚Çπ80";
        return;
    }

    btn.disabled = false;
    btn.classList.add('active');
    btn.innerText = "PLACE ORDER VIA WHATSAPP";
}


    function sendOrder() {
    const name = document.getElementById('cust_name').value;
    const phone = document.getElementById('cust_phone').value;
    const otherProduct = document.getElementById('other-product').value.trim();

    let list = "";
    let total = 0;

    document.querySelectorAll('.product-card').forEach(card => {
        const qty = parseInt(card.querySelector('.qty-val').innerText);
        if (qty > 0) {
            const pname = card.querySelector('.prod-name').innerText;
            const price = parseInt(card.getAttribute('data-price'));
            const subtotal = price * qty;
            total += subtotal;
            list += `‚Ä¢ ${pname}\n   ‚Çπ${price} x ${qty} = ‚Çπ${subtotal}\n`;
        }
    });

    let otherText = "";
    if (otherProduct !== "") {
        otherText = `\nüìù *Requested Product:*\n‚Ä¢ ${otherProduct}\n`;
    }

    const mapsLink = `https://www.google.com/maps?q=${userCoords.lat},${userCoords.lng}`;
    const delivery = getDeliveryCharge(total);
const grandTotal = total + delivery;


    const text =
`*üõí PPCART ORDER BILL*
----------------------
*Customer:* ${name}
*Phone:* ${phone}

*Items Ordered:*
${list}${otherText}
----------------------
*Subtotal:* ‚Çπ${total}
*Delivery Charge:* ‚Çπ${delivery}
*GRAND TOTAL:* ‚Çπ${grandTotal}

üìç *Delivery Location:*
${mapsLink}

‚ö° Fast Delivery in 15‚Äì20 mins`;
const whatsappNumber = "919302073835"; // ‚Üê YOUR NUMBER
    const whatsappURL = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(text)}`;
    window.open(whatsappURL, "_blank");
}
let drawerOpen = false;

function toggleDrawer() {
    const drawer = document.getElementById("checkoutDrawer");

    if (drawerOpen) {
        drawer.classList.add("collapsed");
        drawerOpen = false;
    } else {
        drawer.classList.remove("collapsed");
        drawerOpen = true;
    }
}


</script>

</body>
</html>